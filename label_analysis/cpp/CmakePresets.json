
{
  "version": 6,

  "configurePresets": [
    {
      "name": "base",
      "hidden": true,
      "generator": "Ninja",
      "binaryDir": "${sourceDir}/build/${presetName}",

      "cacheVariables": {
        "CMAKE_EXPORT_COMPILE_COMMANDS": "ON",
        "WITH_TORCH": "ON"
      }
    },

    { "name": "debug",           "inherits": "base", "cacheVariables": { "CMAKE_BUILD_TYPE": "Debug"          } },
    { "name": "release",         "inherits": "base", "cacheVariables": { "CMAKE_BUILD_TYPE": "Release"        } },
    { "name": "relwithdebinfo",  "inherits": "base", "cacheVariables": { "CMAKE_BUILD_TYPE": "RelWithDebInfo" } }
  ],

  "buildPresets": [
    { "name": "debug",          "configurePreset": "debug" },
    { "name": "release",        "configurePreset": "release" },
    { "name": "relwithdebinfo", "configurePreset": "relwithdebinfo" }
  ],

  "testPresets": [
    { "name": "debug",          "configurePreset": "debug",          "output": { "outputOnFailure": true } },
    { "name": "release",        "configurePreset": "release",        "output": { "outputOnFailure": true } },
    { "name": "relwithdebinfo", "configurePreset": "relwithdebinfo", "output": { "outputOnFailure": true } }
  ]
}
